<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel ="stylesheet" href="rps.css">
  </head>

  <body>
    <div id="container">
      <button id="rock" alt="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
    </div>
    <div id="content"></div>
    <script>
      const content = document.querySelector("#content")
      const result = document.createElement("div")
      result.classList.add('result')
      result.setAttribute('style','white-space: pre;')
      content.appendChild(result)
      
      items = ["rock","paper","scissors"];
    
      function getComputerChoice() {
        let item = items[Math.floor(Math.random() * items.length)];
        return item
      }
      
      function playRound(playerSelection,computerSelection) {
        
        
        if (((playerSelection.toLowerCase() == "rock") && (computerSelection.toLowerCase() == "scissors")) ||
           ((playerSelection.toLowerCase() == "scissors") && (computerSelection.toLowerCase() == 'paper')) ||
           ((playerSelection.toLowerCase() == "paper") && (computerSelection.toLowerCase() == "rock"))) {
          
          playerCount++
          result.textContent = "You picked" + " " + playerSelection + "." + " " + "Computer picked" + " " + computerSelection + ".\r\nYou won!\
                                \r\nPlayer\'s Score :" + " " + playerCount + ".\r\n\
Computer\'s Score :" + " " + computerCount +".\r\n"          
        }
        
        else if (((playerSelection.toLowerCase() == "rock") && (computerSelection.toLowerCase() == "paper")) ||
                ((playerSelection.toLowerCase() == "scissors") && (computerSelection.toLowerCase() == 'rock')) ||
                ((playerSelection.toLowerCase() == "paper") && (computerSelection.toLowerCase() == "scissors"))) {
          
          computerCount++
          result.textContent = "You picked" + " " + playerSelection + "." + " " + "Computer picked" + " " + computerSelection + ".\r\nYou lost.\
                                \r\nPlayer\'s Score :" + " " + playerCount + ".\r\n\
Computer\'s Score :" + " " + computerCount +".\r\n"
        }

        else if (((playerSelection.toLowerCase() == "rock") && (computerSelection.toLowerCase() == "rock")) ||
                ((playerSelection.toLowerCase() == "scissors") && (computerSelection.toLowerCase() == 'scissors')) ||
                ((playerSelection.toLowerCase() == "paper") && (computerSelection.toLowerCase() == "paper"))) {
          
          
          result.textContent = "You picked" + " " + playerSelection + "." + " " + "Computer picked" + " " + computerSelection + ".\r\nIt\'s a draw!\
\r\nPlayer\'s Score :" + " " + playerCount + ".\r\n\
Computer\'s Score :" + " " + computerCount +"."
          
        }
      }
      
      

      function game() {
        playerCount = 0
        computerCount = 0
        
        const buttons = document.querySelectorAll("button")
        buttons.forEach((button) => {
          
          button.addEventListener('click', () => {
            playerSelection = button.id
            let computerSelection = getComputerChoice()
            playRound(playerSelection,computerSelection)
            document.querySelector(".result").innerHTML = result.textContent
            if (playerCount === 5) {
              result.textContent = "Player Won!"
            }
            else if (computerCount === 5) {
              result.textContent = "You lost."
            }
          }
          )
        } 
      )}
          

    game()
      
    </script>
  </body>
</html>